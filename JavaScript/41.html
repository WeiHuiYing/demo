<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
<script>
/*
with语句的作用是扩展作用域链
with (expression){
	statement
}
expression 将expression添加到作用域链，以便在statement运行时使用。expression外面需加括号
statement 任何语句都行，如果不止一句，则需要用block符号({...})将其括起来.
说明
javaScript查找某个未使用命名空间的变量时，会通过作用域链来查找，作用域链是跟执行代码的context或者包含这个变量的函数有关。‘with’语句将某个对象添加的作用域链的顶部，如果在statement中有某个未使用的命名空间变量，跟作用域链中的某个属性同名，则这个变量将指向这个属性值。如果没有同名的属性，则将抛出ReferenceError异常。
性能方面的利与弊
利：with语句可以在不造成性能损失的情况下，减少变量的长度。其造成的附加计算量很少。使用‘with’可以减少不必要的指针路径解析运算。需要注意的是，很多情况下，也可以不使用with语句，而是使用一个临时变量来保存指针，来达到同样的效果
弊：with语句使得程序在查找变量值时，都是现在指定的对象中查找。所以那些本来不是这个对象的属性的变量，查找起来将会很慢。如果是在对性能要求较高的场合，‘with’下面的statement语句中的变量，只应该包含这个指定对象的属性。
*/
//with语句使得代码不易阅读，同时使得JavaScript编译器不易于在作用域链上查找某个变量，不易决定应该在哪个对象上来取值
function f(x,o){
	with(o){
		console.log(x);
	}
}
f('1','2');
//使用with语句的代码，无法向前兼容，特别是在使用一些原生数据类型的时候。
function f(foo,values){
	with(foo){
		console.log(values);
	}
}
</script>
</body>
</html>
